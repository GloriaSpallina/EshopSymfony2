{% extends 'base.html.twig' %}
{% block title %}Shop{% endblock %}
{% block main %}
        
        <!-- Breadcrumb Start -->
        <div class="breadcrumb-wrap">
            <div class="container">
                <ul class="breadcrumb">
                    <li class="breadcrumb-item"><a href="{{ path ('index') }}">Home</a></li>
                    <li class="breadcrumb-item active"><a href="{{ path ('productlist') }}">Products</a></li>
                </ul>
            </div>
        </div>
        <!-- Breadcrumb End -->
         {# {{ form_start(form,{'action': path('productlist'), 'method': 'GET'}) }}
                                            <input type="submit">
                                            {{ form_end(form) }} #}
        <!-- Product List Start -->
        <div class="product-view">
            <div class="container">
                <div class="row" id="contenuRecherche">
                    <div class="col-md-9">
                        <div class="row"  >
                            <div class="col-lg-12">
                               {{ form_start (form) }}
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="product-search">
                                            {# <input type="email" value="Search">
                                            <button><i class="fa fa-search"></i></button> #}
                                            
                                         
                                            {{ form_widget (form.search, {'attr':{'placeholder':'Search product by name'}})}}
                                            <button><i class="fa fa-search"></i><input type="submit"></button>
                                            
                                        </div>
                                    </div>
                                    <div class="col-md-12">
                                        <div class="product-search">
                                            {# <input type="email" value="Search">
                                            <button><i class="fa fa-search"></i></button> #}
                                            
                                            <p>
                                            {{ form_widget (form.minPrix,{'attr':{'placeholder':'Prix minimum'}})}}
                                            <button><i class="fa fa-search"></i><input type="submit"></button>
                                            
                                        </div>
                                    </div>
                                
                                  
                                            {{ form_end(form) }}
                                </div>
                            </div>

                        {% if(produitsFiltres | length > 0) %} 
                            {% for produit in produitsFiltres %}
                            <div class="col-lg-4">
                                <div class="product-item">
                                    <div class="product-image">
                                        <a href="{{ path ('productdetail', {id: produit.id}) }}">
                                            <img src="/public/assets/img/product-1.png" alt="Product Image">
                                        </a>
                                        <div class="product-action">
                                        {% if app.user %}
                                            <a href="{{ path ('addToCart', {id: produit.id}) }}"><i class="fa fa-cart-plus"></i></a>
                                        {% endif %}
                                        
                                            
                                            
                                        </div>
                                    </div>
                                    <div class="product-content">
                                        <div class="title"><a href="{{ path ('productdetail', {id: produit.id}) }}">{{ produit.nom }}</a></div>
                                       
                                        <div class="price"> {{ produit.prix | number_format(2) }} €<span></span></div>
                                    </div>
                                </div>
                            </div>
                            {% endfor %}
                          {% else %}
        <h3 class="text-danger">Pas de résultats...</h3>
    {% endif %}

                           
                        </div>
                        
                        <div class="col-lg-12">
                            <nav aria-label="Page navigation example">
                            
                                {{ knp_pagination_render(produitsFiltres) }}
                            </nav>
                        </div>
                    </div>
                    
            
                </div>
            </div>
        </div>
        <!-- Product List End -->
{% endblock %}      
 